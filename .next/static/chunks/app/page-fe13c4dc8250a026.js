(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7905:(e,t,r)=>{Promise.resolve().then(r.bind(r,9809))},5565:(e,t,r)=>{"use strict";r.d(t,{default:()=>n.a});var s=r(4146),n=r.n(s)},6046:(e,t,r)=>{"use strict";var s=r(6658);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},4146:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return l},getImageProps:function(){return o}});let s=r(306),n=r(666),a=r(7970),i=s._(r(5514));function o(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let l=a.Image},9809:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(5155),n=r(2115),a=r(8173),i=r.n(a),o=r(6046),l=r(5565);function c(){let[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)(0),[c,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)(!0),h=(0,o.useSearchParams)(),f=(0,n.useRef)(!1);(0,n.useEffect)(()=>{if(!f.current){if(f.current=!0,r>=5)return m(!1);d(!0),fetch("https://api.tvmaze.com/shows?page=".concat(r)).then(e=>e.json()).then(e=>{t(t=>[...t,...e]),m(e.length>0&&r<4),d(!1)})}},[r]);let g=e,v=h.get("genres");if(v){let t=v.split(",");g=e.filter(e=>e.genres&&t.every(t=>e.genres.includes(t)))}return(0,n.useEffect)(()=>{let e=()=>{u&&!c&&window.innerHeight+window.scrollY>=document.body.offsetHeight-200&&a(e=>e+1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[u,c]),(0,s.jsxs)("main",{className:"p-4",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-6 mt-8 text-center",children:"Popularne TV serije"}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:g.map(e=>{var t,r,n;return(0,s.jsx)(i(),{href:"/shows/".concat(e.id),children:(0,s.jsxs)("div",{className:"show-card cursor-pointer mb-2 hover:shadow-lg transition",children:[(0,s.jsx)(l.default,{src:(null===(t=e.image)||void 0===t?void 0:t.medium)||"/file.svg",alt:e.name,width:210,height:295,className:"rounded mb-3 w-full object-cover aspect-[2/3] bg-gray-100 show-img cursor-pointer hover:opacity-80 transition"}),(0,s.jsxs)("div",{className:"show-info",children:[(0,s.jsx)("h2",{className:"show-title",children:e.name}),(0,s.jsxs)("p",{className:"show-rating",children:["⭐ ",null!==(n=null===(r=e.rating)||void 0===r?void 0:r.average)&&void 0!==n?n:"N/A"]})]})]})},e.id)})}),c&&(0,s.jsx)("div",{className:"text-center my-4",children:"Učitavanje..."}),!u&&(0,s.jsx)("div",{className:"text-center my-4 text-gray-500",children:"Nema više serija za prikaz."}),(0,s.jsx)("div",{className:"text-center my-4",children:(0,s.jsx)(i(),{href:"/signin",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded shadow transition mr-4",children:"Prijava s računom"})})]})}r(347)},347:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[690,173,970,441,517,358],()=>t(7905)),_N_E=e.O()}]);