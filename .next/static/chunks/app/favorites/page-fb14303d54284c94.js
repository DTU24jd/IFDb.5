(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40],{3647:(e,t,i)=>{Promise.resolve().then(i.bind(i,3018))},5565:(e,t,i)=>{"use strict";i.d(t,{default:()=>r.a});var a=i(4146),r=i.n(a)},4146:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{default:function(){return l},getImageProps:function(){return o}});let a=i(306),r=i(666),s=i(7970),n=a._(i(5514));function o(e){let{props:t}=(0,r.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,i]of Object.entries(t))void 0===i&&delete t[e];return{props:t}}let l=s.Image},3018:(e,t,i)=>{"use strict";i.d(t,{default:()=>l});var a=i(5155),r=i(2115),s=i(8173),n=i.n(s),o=i(5565);function l(){let[e,t]=(0,r.useState)([]),[i,s]=(0,r.useState)(!0);(0,r.useEffect)(()=>{fetch("/api/favorites").then(e=>e.json()).then(e=>Promise.all(e.map(e=>fetch("https://api.tvmaze.com/shows/".concat(e)).then(e=>e.json())))).then(e=>{t(e),s(!1)}).catch(()=>s(!1))},[]);let l=async i=>{await fetch("/api/favorites",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:i})}),t(e.filter(e=>e.id!==i))};return i?(0,a.jsx)("p",{children:"Učitavanje favorita..."}):0===e.length?(0,a.jsx)("p",{children:"Nemate spremljene serije."}):(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:e.map(e=>{var t;return(0,a.jsxs)("div",{className:"border rounded p-3 shadow bg-white flex flex-col items-center",children:[(0,a.jsxs)(n(),{href:"/shows/".concat(e.id),className:"w-full",children:[(0,a.jsx)(o.default,{src:(null===(t=e.image)||void 0===t?void 0:t.medium)||"/file.svg",alt:e.name,width:210,height:295,className:"rounded mb-3 w-full object-cover aspect-[2/3] bg-gray-100 show-img cursor-pointer hover:opacity-80 transition"}),(0,a.jsx)("div",{className:"font-semibold text-center",children:e.name})]}),(0,a.jsx)("button",{onClick:()=>l(e.id),className:"mt-2 px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition",children:"Ukloni iz favorita"})]},e.id)})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[173,970,441,517,358],()=>t(3647)),_N_E=e.O()}]);